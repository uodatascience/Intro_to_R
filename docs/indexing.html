<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>R Guide Index</title>
  <meta name="description" content="R Guide Index">
  <meta name="generator" content="bookdown 0.5 and GitBook 2.6.7">

  <meta property="og:title" content="R Guide Index" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="<a href="https://github.com/uodatascience/R_Guide" class="uri">https://github.com/uodatascience/R_Guide</a>" />
  
  
  <meta name="github-repo" content="uodatascience/R_Guide" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="R Guide Index" />
  
  
  

<meta name="author" content="UO Data Science">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="saving-data.html">
<link rel="next" href="manipulating-data.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> UO R Guide</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#lessons"><i class="fa fa-check"></i><b>1.1</b> Lessons</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="what-the-f-is-r-and-how-do-i-get-started-with-it.html"><a href="what-the-f-is-r-and-how-do-i-get-started-with-it.html"><i class="fa fa-check"></i><b>3</b> What the F#$% is R and how do I get started with it?</a><ul>
<li class="chapter" data-level="3.1" data-path="what-the-f-is-r-and-how-do-i-get-started-with-it.html"><a href="what-the-f-is-r-and-how-do-i-get-started-with-it.html#installing-r-and-r-studio"><i class="fa fa-check"></i><b>3.1</b> Installing R and R Studio</a></li>
<li class="chapter" data-level="3.2" data-path="what-the-f-is-r-and-how-do-i-get-started-with-it.html"><a href="what-the-f-is-r-and-how-do-i-get-started-with-it.html#how-do-i-r"><i class="fa fa-check"></i><b>3.2</b> How do I R?!</a><ul>
<li class="chapter" data-level="3.2.1" data-path="what-the-f-is-r-and-how-do-i-get-started-with-it.html"><a href="what-the-f-is-r-and-how-do-i-get-started-with-it.html#using-rstudio"><i class="fa fa-check"></i><b>3.2.1</b> Using RStudio</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="what-the-f-is-r-and-how-do-i-get-started-with-it.html"><a href="what-the-f-is-r-and-how-do-i-get-started-with-it.html#getting-help"><i class="fa fa-check"></i><b>3.3</b> Getting help</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="what-is-r.html"><a href="what-is-r.html"><i class="fa fa-check"></i><b>4</b> What is R?</a><ul>
<li class="chapter" data-level="4.1" data-path="what-is-r.html"><a href="what-is-r.html#objects"><i class="fa fa-check"></i><b>4.1</b> Objects</a></li>
<li class="chapter" data-level="4.2" data-path="what-is-r.html"><a href="what-is-r.html#functions"><i class="fa fa-check"></i><b>4.2</b> Functions</a></li>
<li class="chapter" data-level="4.3" data-path="what-is-r.html"><a href="what-is-r.html#packages"><i class="fa fa-check"></i><b>4.3</b> Packages</a></li>
<li class="chapter" data-level="4.4" data-path="what-is-r.html"><a href="what-is-r.html#some-more-useful-basic-syntax"><i class="fa fa-check"></i><b>4.4</b> Some more useful basic syntax</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="objects-1.html"><a href="objects-1.html"><i class="fa fa-check"></i><b>5</b> Objects</a><ul>
<li class="chapter" data-level="5.1" data-path="objects-1.html"><a href="objects-1.html#what-are-objects"><i class="fa fa-check"></i><b>5.1</b> What are Objects?</a></li>
<li class="chapter" data-level="5.2" data-path="objects-1.html"><a href="objects-1.html#object-terminology"><i class="fa fa-check"></i><b>5.2</b> Object terminology</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="objects-in-r.html"><a href="objects-in-r.html"><i class="fa fa-check"></i><b>6</b> Objects in R</a><ul>
<li class="chapter" data-level="6.1" data-path="objects-in-r.html"><a href="objects-in-r.html#object-systems"><i class="fa fa-check"></i><b>6.1</b> Object Systems</a></li>
<li class="chapter" data-level="6.2" data-path="objects-in-r.html"><a href="objects-in-r.html#attributes"><i class="fa fa-check"></i><b>6.2</b> Attributes</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="base-types.html"><a href="base-types.html"><i class="fa fa-check"></i><b>7</b> Base Types</a><ul>
<li class="chapter" data-level="7.1" data-path="base-types.html"><a href="base-types.html#vectors"><i class="fa fa-check"></i><b>7.1</b> Vectors</a></li>
<li class="chapter" data-level="7.2" data-path="base-types.html"><a href="base-types.html#matrices-arrays"><i class="fa fa-check"></i><b>7.2</b> Matrices &amp; Arrays</a></li>
<li class="chapter" data-level="7.3" data-path="base-types.html"><a href="base-types.html#data-frames"><i class="fa fa-check"></i><b>7.3</b> Data Frames</a></li>
<li class="chapter" data-level="7.4" data-path="base-types.html"><a href="base-types.html#etc."><i class="fa fa-check"></i><b>7.4</b> Etc.</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="s3-objects.html"><a href="s3-objects.html"><i class="fa fa-check"></i><b>8</b> S3 Objects</a><ul>
<li class="chapter" data-level="8.1" data-path="s3-objects.html"><a href="s3-objects.html#example-extending-s3-objects"><i class="fa fa-check"></i><b>8.1</b> Example: Extending S3 Objects</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="s4-objects.html"><a href="s4-objects.html"><i class="fa fa-check"></i><b>9</b> S4 Objects</a></li>
<li class="chapter" data-level="10" data-path="reference-classes.html"><a href="reference-classes.html"><i class="fa fa-check"></i><b>10</b> Reference Classes</a></li>
<li class="chapter" data-level="11" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>11</b> References</a></li>
<li class="chapter" data-level="12" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>12</b> Data</a><ul>
<li class="chapter" data-level="12.1" data-path="data.html"><a href="data.html#loading-data"><i class="fa fa-check"></i><b>12.1</b> Loading data</a></li>
<li class="chapter" data-level="12.2" data-path="data.html"><a href="data.html#one-day-we-will-have-a-summary-table-here"><i class="fa fa-check"></i><b>12.2</b> One day we will have a summary table here</a></li>
<li class="chapter" data-level="12.3" data-path="data.html"><a href="data.html#csv-files"><i class="fa fa-check"></i><b>12.3</b> .csv files</a><ul>
<li class="chapter" data-level="12.3.1" data-path="data.html"><a href="data.html#defaults"><i class="fa fa-check"></i><b>12.3.1</b> Defaults</a></li>
<li class="chapter" data-level="12.3.2" data-path="data.html"><a href="data.html#a-brief-interlude-into-formats-for-data-in-r"><i class="fa fa-check"></i><b>12.3.2</b> A brief interlude into formats for data in R</a></li>
<li class="chapter" data-level="12.3.3" data-path="data.html"><a href="data.html#format-issues"><i class="fa fa-check"></i><b>12.3.3</b> Format issues?</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="data.html"><a href="data.html#sav-files"><i class="fa fa-check"></i><b>12.4</b> .sav files</a></li>
<li class="chapter" data-level="12.5" data-path="data.html"><a href="data.html#rio-for-general-import"><i class="fa fa-check"></i><b>12.5</b> <code>rio</code> for general import</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="saving-data.html"><a href="saving-data.html"><i class="fa fa-check"></i><b>13</b> Saving data</a><ul>
<li class="chapter" data-level="13.1" data-path="saving-data.html"><a href="saving-data.html#rdata-files"><i class="fa fa-check"></i><b>13.1</b> .RData files</a></li>
<li class="chapter" data-level="13.2" data-path="saving-data.html"><a href="saving-data.html#sink"><i class="fa fa-check"></i><b>13.2</b> <code>sink</code></a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="indexing.html"><a href="indexing.html"><i class="fa fa-check"></i><b>14</b> Indexing</a><ul>
<li class="chapter" data-level="14.1" data-path="indexing.html"><a href="indexing.html#logical-indexing"><i class="fa fa-check"></i><b>14.1</b> Logical indexing</a></li>
<li class="chapter" data-level="14.2" data-path="indexing.html"><a href="indexing.html#assignment-with-indexing"><i class="fa fa-check"></i><b>14.2</b> Assignment with Indexing</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="manipulating-data.html"><a href="manipulating-data.html"><i class="fa fa-check"></i><b>15</b> Manipulating Data</a><ul>
<li class="chapter" data-level="15.1" data-path="manipulating-data.html"><a href="manipulating-data.html#wide-vs.long-data"><i class="fa fa-check"></i><b>15.1</b> Wide vs. Long Data</a></li>
<li class="chapter" data-level="15.2" data-path="manipulating-data.html"><a href="manipulating-data.html#piping-syntax"><i class="fa fa-check"></i><b>15.2</b> Piping syntax</a><ul>
<li class="chapter" data-level="15.2.1" data-path="manipulating-data.html"><a href="manipulating-data.html#a-quick-sidenote-about-the-term-pipe"><i class="fa fa-check"></i><b>15.2.1</b> A quick sidenote about the term pipe</a></li>
<li class="chapter" data-level="15.2.2" data-path="manipulating-data.html"><a href="manipulating-data.html#the-logic-of-piping-syntax"><i class="fa fa-check"></i><b>15.2.2</b> The logic of piping syntax</a></li>
<li class="chapter" data-level="15.2.3" data-path="manipulating-data.html"><a href="manipulating-data.html#logic-of-piping-syntax-continued"><i class="fa fa-check"></i><b>15.2.3</b> Logic of Piping Syntax continued</a></li>
<li class="chapter" data-level="15.2.4" data-path="manipulating-data.html"><a href="manipulating-data.html#why-use-pipes"><i class="fa fa-check"></i><b>15.2.4</b> Why use pipes?</a></li>
<li class="chapter" data-level="15.2.5" data-path="manipulating-data.html"><a href="manipulating-data.html#saving-the-output-of-your-pipe"><i class="fa fa-check"></i><b>15.2.5</b> Saving the output of your pipe</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="manipulating-data.html"><a href="manipulating-data.html#reshaping-data"><i class="fa fa-check"></i><b>15.3</b> Reshaping Data</a><ul>
<li class="chapter" data-level="15.3.1" data-path="manipulating-data.html"><a href="manipulating-data.html#wide-to-long"><i class="fa fa-check"></i><b>15.3.1</b> Wide to Long</a></li>
<li class="chapter" data-level="15.3.2" data-path="manipulating-data.html"><a href="manipulating-data.html#long-to-wide"><i class="fa fa-check"></i><b>15.3.2</b> Long to wide</a></li>
<li class="chapter" data-level="15.3.3" data-path="manipulating-data.html"><a href="manipulating-data.html#final-note-on-reshaping-data"><i class="fa fa-check"></i><b>15.3.3</b> Final note on reshaping data</a></li>
<li class="chapter" data-level="15.3.4" data-path="manipulating-data.html"><a href="manipulating-data.html#section"><i class="fa fa-check"></i><b>15.3.4</b> </a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>16</b> Resources</a></li>
<li class="chapter" data-level="17" data-path="useful-functions.html"><a href="useful-functions.html"><i class="fa fa-check"></i><b>17</b> Useful Functions</a></li>
<li class="chapter" data-level="18" data-path="workspace.html"><a href="workspace.html"><i class="fa fa-check"></i><b>18</b> Workspace</a></li>
<li class="chapter" data-level="19" data-path="objects-2.html"><a href="objects-2.html"><i class="fa fa-check"></i><b>19</b> Objects</a></li>
<li class="chapter" data-level="20" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>20</b> Iteration</a></li>
<li class="chapter" data-level="21" data-path="style-tips.html"><a href="style-tips.html"><i class="fa fa-check"></i><b>21</b> Style Tips</a><ul>
<li class="chapter" data-level="21.1" data-path="style-tips.html"><a href="style-tips.html#nothing-here-except-a-reminder-to-jonny-that-they-should-make-this-page"><i class="fa fa-check"></i><b>21.1</b> NOTHING HERE EXCEPT A REMINDER TO JONNY THAT THEY SHOULD MAKE THIS PAGE</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="how-do-i.html"><a href="how-do-i.html"><i class="fa fa-check"></i><b>22</b> How do I…</a><ul>
<li class="chapter" data-level="22.1" data-path="how-do-i.html"><a href="how-do-i.html#yeeeeeeep-same-thing-here-nothing-but-a-slim-breeze-whistling-through-yer-earwells-the-tickle-tells-ya-it-dont-exist-yet"><i class="fa fa-check"></i><b>22.1</b> YEEEEEEEP SAME THING HERE NOTHING BUT A SLIM BREEZE WHISTLING THROUGH YER EARWELLS, THE TICKLE TELLS YA IT DONT EXIST YET</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Guide Index</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="indexing" class="section level1">
<h1><span class="header-section-number">14</span> Indexing</h1>
<p>Or, how to get specific pieces of stuff.</p>
<p>We’ve already seen a bunch of basic indexing</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># try ?seq</span>
x &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">5</span>, <span class="dv">25</span>, <span class="dv">5</span>)
x</code></pre></div>
<pre><code>## [1]  5 10 15 20 25</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">y &lt;-<span class="st"> </span><span class="kw">array</span>(<span class="dv">1</span>:<span class="dv">24</span>, <span class="dt">dim=</span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">8</span>))
y</code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8]
## [1,]    1    4    7   10   13   16   19   22
## [2,]    2    5    8   11   14   17   20   23
## [3,]    3    6    9   12   15   18   21   24</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;scores&quot;</span>=<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>), 
          <span class="st">&quot;numbers&quot;</span>=<span class="kw">c</span>(<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">10</span>))

<span class="co"># good ole positional indexing</span>
x[<span class="dv">3</span>]</code></pre></div>
<pre><code>## [1] 15</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># indexing with a vector to select multiple positions</span>
x[<span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">5</span>)]</code></pre></div>
<pre><code>## [1] 15 25</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># higher dimensional objects have more dimensions to index</span>
y[<span class="dv">1</span>,<span class="dv">5</span>]</code></pre></div>
<pre><code>## [1] 13</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># both together</span>
y[<span class="dv">3</span>, <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">7</span>)]</code></pre></div>
<pre><code>## [1]  9 12 21</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># leaving a position blank selects all of its indices</span>
y[<span class="dv">2</span>,]</code></pre></div>
<pre><code>## [1]  2  5  8 11 14 17 20 23</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># with names</span>
<span class="kw">names</span>(x) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;adam&quot;</span>, <span class="st">&quot;steve&quot;</span>, <span class="st">&quot;harry&quot;</span>, <span class="st">&quot;ted&quot;</span>, <span class="st">&quot;watson&quot;</span>)
x[<span class="st">&quot;harry&quot;</span>]</code></pre></div>
<pre><code>## harry 
##    15</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z[<span class="st">&quot;numbers&quot;</span>]</code></pre></div>
<pre><code>## $numbers
## [1]  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Using double brackets to return a vector instead of a list</span>
z[[<span class="st">&quot;numbers&quot;</span>]]</code></pre></div>
<pre><code>## [1]  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># and the equivalent dollar sign</span>
z$scores</code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<p>Negative values deselect</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[-<span class="dv">3</span>]</code></pre></div>
<pre><code>##   adam  steve    ted watson 
##      5     10     20     25</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># useful to select starting from the end</span>
-(<span class="dv">1</span>:<span class="dv">3</span>) <span class="co"># quick way to construct sequences of negative numbers</span></code></pre></div>
<pre><code>## [1] -1 -2 -3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[-(<span class="dv">1</span>:<span class="dv">3</span>)] <span class="co"># get the last two</span></code></pre></div>
<pre><code>##    ted watson 
##     20     25</code></pre>
<p>We have also seen chained indexing, think of it like indexing the product of each successive indexing operation</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>)][<span class="dv">2</span>]</code></pre></div>
<pre><code>## harry 
##    15</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">z[[<span class="st">&quot;numbers&quot;</span>]][<span class="dv">4</span>]</code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># one reason why it&#39;s important what class is returned from your indexing operation</span>
<span class="co"># aka knowing why we use double brackets</span>
z[<span class="st">&quot;numbers&quot;</span>][<span class="dv">4</span>]</code></pre></div>
<pre><code>## $&lt;NA&gt;
## NULL</code></pre>
<p>dplyr has a <code>select</code> function and a collection of tools (“select helpers”) to make selecting variables by name a bit more flexible:</p>
<ul>
<li><code>starts_with()</code></li>
<li><code>ends_with()</code></li>
<li><code>contains()</code></li>
<li><code>matches()</code> - variables that match a regular expression</li>
<li><code>num_range()</code> - eg <code>num_range(&quot;x&quot;,1:5)</code> to select <code>x1, x2, ...</code></li>
<li><code>one_of()</code> - find variables in a list, eg. <code>one_of(c(&quot;calcium&quot;, &quot;potassium&quot;, &quot;magnesium&quot;))</code></li>
<li><code>everything()</code> - all variables, don’t know why you’d use this.</li>
</ul>
<p>A few examples…</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(dplyr)</code></pre></div>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span>ggplot2::diamonds
<span class="kw">names</span>(df)</code></pre></div>
<pre><code>##  [1] &quot;carat&quot;   &quot;cut&quot;     &quot;color&quot;   &quot;clarity&quot; &quot;depth&quot;   &quot;table&quot;   &quot;price&quot;  
##  [8] &quot;x&quot;       &quot;y&quot;       &quot;z&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">select</span>(df, <span class="kw">starts_with</span>(<span class="st">&quot;c&quot;</span>)))</code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   carat       cut color clarity
##   &lt;dbl&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;ord&gt;
## 1  0.23     Ideal     E     SI2
## 2  0.21   Premium     E     SI1
## 3  0.23      Good     E     VS1
## 4  0.29   Premium     I     VS2
## 5  0.31      Good     J     SI2
## 6  0.24 Very Good     J    VVS2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(<span class="kw">select</span>(df, <span class="kw">one_of</span>(<span class="kw">c</span>(<span class="st">&quot;color&quot;</span>, <span class="st">&quot;hue&quot;</span>, <span class="st">&quot;luminance&quot;</span>, <span class="st">&quot;clarity&quot;</span>))))</code></pre></div>
<pre><code>## Warning: Unknown variables: `hue`, `luminance`</code></pre>
<pre><code>## # A tibble: 6 x 2
##   color clarity
##   &lt;ord&gt;   &lt;ord&gt;
## 1     E     SI2
## 2     E     SI1
## 3     E     VS1
## 4     I     VS2
## 5     J     SI2
## 6     J    VVS2</code></pre>
<div id="logical-indexing" class="section level2">
<h2><span class="header-section-number">14.1</span> Logical indexing</h2>
<p>In addition to specifying what we want by position, we can specify what we want by using a vector of booleans (<code>TRUE</code>, <code>FALSE</code>) the same length as the object</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="dv">3</span>]</code></pre></div>
<pre><code>## harry 
##    15</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x[<span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>)]</code></pre></div>
<pre><code>## harry 
##    15</code></pre>
<p>This is useful when combined with logical statements (see <code>?base::Logic</code>) and comparisons (see <code>?Comparison</code>). One makes logical statements or comparisons with these operators:</p>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Use</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>!x</code></td>
<td>not x</td>
</tr>
<tr class="even">
<td><code>x &amp; y</code>, <code>x &amp;&amp; y</code></td>
<td>x and y (vectorized, single comparison)</td>
</tr>
<tr class="odd">
<td><code>x | y</code>, <code>x || y</code></td>
<td>x or y (vectorized, single comparison)</td>
</tr>
<tr class="even">
<td><code>xor(x, y)</code></td>
<td>exclusive or (x or y but not both)</td>
</tr>
<tr class="odd">
<td><code>x &lt; y</code></td>
<td>x less than y</td>
</tr>
<tr class="even">
<td><code>x &lt;= y</code></td>
<td>x less than or equal to y</td>
</tr>
<tr class="odd">
<td><code>x &gt; y</code></td>
<td>x greater than y</td>
</tr>
<tr class="even">
<td><code>x &gt;= y</code></td>
<td>x greater than or equal to y</td>
</tr>
<tr class="odd">
<td><code>x == y</code></td>
<td>x is equal to y</td>
</tr>
<tr class="even">
<td><code>x != y</code></td>
<td>x is not equal to y</td>
</tr>
</tbody>
</table>
<p>These will all output boolean vectors, more examples</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &gt;<span class="st"> </span><span class="dv">10</span></code></pre></div>
<pre><code>##   adam  steve  harry    ted watson 
##  FALSE  FALSE   TRUE   TRUE   TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &gt;=<span class="st"> </span><span class="dv">10</span></code></pre></div>
<pre><code>##   adam  steve  harry    ted watson 
##  FALSE   TRUE   TRUE   TRUE   TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># logical operators can be combined</span>
(x &gt;<span class="st"> </span><span class="dv">10</span>) &amp;<span class="st"> </span>(x &lt;<span class="st"> </span><span class="dv">20</span>)</code></pre></div>
<pre><code>##   adam  steve  harry    ted watson 
##  FALSE  FALSE   TRUE  FALSE  FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># the single &amp; will compare each element</span>
<span class="kw">cbind</span>((x&gt;<span class="dv">10</span>), (x&lt;<span class="dv">20</span>),((x&gt;<span class="dv">10</span>) &amp;<span class="st"> </span>(x&lt;<span class="dv">20</span>)))</code></pre></div>
<pre><code>##         [,1]  [,2]  [,3]
## adam   FALSE  TRUE FALSE
## steve  FALSE  TRUE FALSE
## harry   TRUE  TRUE  TRUE
## ted     TRUE FALSE FALSE
## watson  TRUE FALSE FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># double &amp;&amp;s will only compare the first element - use it when you are trying to evaluate whether a single thing is true or false, eg. is this value greater than one? are my vectors the same length?</span>
(<span class="kw">max</span>(x) &gt;<span class="st"> </span><span class="dv">20</span>) &amp;&amp;<span class="st"> </span>(<span class="kw">min</span>(x) &lt;=<span class="st"> </span><span class="dv">5</span>)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>This can be used in indexing, either by explicitly referring to the object within the indexing operator, or by using the <code>with</code> function</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Get all the rows in diamonds who are Good or Very Good</span>
<span class="co"># remember the comma at the end, we want to select all columns</span>
df[df$cut==<span class="st">&quot;Good&quot;</span> |<span class="st"> </span>df$cut==<span class="st">&quot;Very Good&quot;</span>,]</code></pre></div>
<pre><code>## # A tibble: 16,988 x 10
##    carat       cut color clarity depth table price     x     y     z
##    &lt;dbl&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;ord&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  0.23      Good     E     VS1  56.9    65   327  4.05  4.07  2.31
##  2  0.31      Good     J     SI2  63.3    58   335  4.34  4.35  2.75
##  3  0.24 Very Good     J    VVS2  62.8    57   336  3.94  3.96  2.48
##  4  0.24 Very Good     I    VVS1  62.3    57   336  3.95  3.98  2.47
##  5  0.26 Very Good     H     SI1  61.9    55   337  4.07  4.11  2.53
##  6  0.23 Very Good     H     VS1  59.4    61   338  4.00  4.05  2.39
##  7  0.30      Good     J     SI1  64.0    55   339  4.25  4.28  2.73
##  8  0.30      Good     J     SI1  63.4    54   351  4.23  4.29  2.70
##  9  0.30      Good     J     SI1  63.8    56   351  4.23  4.26  2.71
## 10  0.30 Very Good     J     SI1  62.7    59   351  4.21  4.27  2.66
## # ... with 16,978 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># you can combine boolean vectors arbitrarily</span>

df[df$cut==<span class="st">&quot;Good&quot;</span> &amp;<span class="st"> </span>df$carat&gt;<span class="dv">1</span>,]</code></pre></div>
<pre><code>## # A tibble: 1,579 x 10
##    carat   cut color clarity depth table price     x     y     z
##    &lt;dbl&gt; &lt;ord&gt; &lt;ord&gt;   &lt;ord&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1  1.01  Good     I      I1  63.1    57  2844  6.35  6.39  4.02
##  2  1.01  Good     H      I1  64.2    61  2846  6.25  6.18  3.99
##  3  1.03  Good     J     SI1  63.6    57  2855  6.38  6.29  4.03
##  4  1.04  Good     I     SI2  59.9    64  2970  6.51  6.45  3.88
##  5  1.01  Good     E      I1  63.8    57  3032  6.40  6.33  4.06
##  6  1.02  Good     E      I1  63.1    60  3051  6.31  6.40  4.01
##  7  1.01  Good     J     SI2  63.7    60  3088  6.40  6.29  4.05
##  8  1.29  Good     I      I1  64.2    54  3098  6.93  6.83  4.42
##  9  1.52  Good     E      I1  57.3    58  3105  7.53  7.42  4.28
## 10  1.52  Good     E      I1  57.3    58  3105  7.53  7.42  4.28
## # ... with 1,569 more rows</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># select columns in the usual way too</span>
<span class="kw">head</span>(df[df$cut==<span class="st">&quot;Good&quot;</span> &amp;<span class="st"> </span>df$carat&gt;<span class="dv">1</span>, <span class="dv">2</span>])</code></pre></div>
<pre><code>## # A tibble: 6 x 1
##     cut
##   &lt;ord&gt;
## 1  Good
## 2  Good
## 3  Good
## 4  Good
## 5  Good
## 6  Good</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(df[df$cut==<span class="st">&quot;Good&quot;</span> &amp;<span class="st"> </span>df$carat&gt;<span class="dv">1</span>, <span class="st">&quot;color&quot;</span>])</code></pre></div>
<pre><code>## # A tibble: 6 x 1
##   color
##   &lt;ord&gt;
## 1     I
## 2     H
## 3     J
## 4     I
## 5     E
## 6     E</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(df[df$cut==<span class="st">&quot;Good&quot;</span> &amp;<span class="st"> </span>df$carat&gt;<span class="dv">1</span>,]$color)</code></pre></div>
<pre><code>## [1] I H J I E E
## Levels: D &lt; E &lt; F &lt; G &lt; H &lt; I &lt; J</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># %in% is a useful way to select multiple levels of a factor</span>
<span class="kw">head</span>(df[df$cut %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Good&quot;</span>, <span class="st">&quot;Very Good&quot;</span>),])</code></pre></div>
<pre><code>## # A tibble: 6 x 10
##   carat       cut color clarity depth table price     x     y     z
##   &lt;dbl&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;ord&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  0.23      Good     E     VS1  56.9    65   327  4.05  4.07  2.31
## 2  0.31      Good     J     SI2  63.3    58   335  4.34  4.35  2.75
## 3  0.24 Very Good     J    VVS2  62.8    57   336  3.94  3.96  2.48
## 4  0.24 Very Good     I    VVS1  62.3    57   336  3.95  3.98  2.47
## 5  0.26 Very Good     H     SI1  61.9    55   337  4.07  4.11  2.53
## 6  0.23 Very Good     H     VS1  59.4    61   338  4.00  4.05  2.39</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># with temporarily attaches our dataframe so we don&#39;t have to keep referring to it explicitly</span>
<span class="kw">head</span>(<span class="kw">with</span>(df, df[cut %in%<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Good&quot;</span>, <span class="st">&quot;Very Good&quot;</span>),]))</code></pre></div>
<pre><code>## # A tibble: 6 x 10
##   carat       cut color clarity depth table price     x     y     z
##   &lt;dbl&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;ord&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  0.23      Good     E     VS1  56.9    65   327  4.05  4.07  2.31
## 2  0.31      Good     J     SI2  63.3    58   335  4.34  4.35  2.75
## 3  0.24 Very Good     J    VVS2  62.8    57   336  3.94  3.96  2.48
## 4  0.24 Very Good     I    VVS1  62.3    57   336  3.95  3.98  2.47
## 5  0.26 Very Good     H     SI1  61.9    55   337  4.07  4.11  2.53
## 6  0.23 Very Good     H     VS1  59.4    61   338  4.00  4.05  2.39</code></pre>
<p>A boolean vector can be converted back to a numerical position vector with <code>which</code></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &gt;<span class="st"> </span><span class="dv">10</span></code></pre></div>
<pre><code>##   adam  steve  harry    ted watson 
##  FALSE  FALSE   TRUE   TRUE   TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">which</span>(x &gt;<span class="st"> </span><span class="dv">10</span>)</code></pre></div>
<pre><code>##  harry    ted watson 
##      3      4      5</code></pre>
</div>
<div id="assignment-with-indexing" class="section level2">
<h2><span class="header-section-number">14.2</span> Assignment with Indexing</h2>
<p>Sometimes we need to change some values in an existing object, but all assignments to existing objects have to have the same shape and class. If you give something too small, it will be repeated Rather than having to create a new object, we can assign to an indexed subset of an object</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">friends &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">names=</span><span class="kw">c</span>(<span class="st">&quot;toothbrush&quot;</span>, <span class="st">&quot;vacuum&quot;</span>, <span class="st">&quot;blinds&quot;</span>),
                      <span class="dt">hobbies=</span><span class="kw">c</span>(<span class="st">&quot;brushing&quot;</span>, <span class="st">&quot;spinning&quot;</span>, <span class="st">&quot;darkening&quot;</span>),
                      <span class="dt">favorites=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>))

<span class="co"># too small :(</span>
friends$favorites &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>)</code></pre></div>
<pre><code>## Error in `$&lt;-.data.frame`(`*tmp*`, favorites, value = c(4, 5)): replacement has 2 rows, data has 3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># toothbrush and vacuum get a demotion</span>
friends[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),]$favorites &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>)</code></pre></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="saving-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="manipulating-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
